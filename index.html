<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <title>貸款月繳金額利息計算</title>

    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css">
    <link rel="stylesheet" href="css/index.css">

    <script src="js/jquery-3.2.1.slim.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/jquery.inputmask.bundle.min.js"></script>
    <script src="js/jquery.validate.min.js"></script>
    <script src="js/amortization.js"></script>

</head>
<body>
    <div class="container">
        <div class="text-center">
            <h2>貸款月繳金額利息計算</h2>
        </div>
        <div>
            <form class="needs-validation" id="form" onsubmit="console.log('submit!');return false" novalidate>
                <div class="form-row">
                    <div class="form-label-group col-sm-4">
                        <input id="amount" class="form-control" placeholder="貸款總額" oninput="getAmortization()" data-inputmask="'alias': 'decimal', 'groupSeparator': ',', 'autoGroup': true" im-insert="true" autofocus required>
                        <label for="amount">貸款總額 ($)</label>
                        <div class="invalid-tooltip">
                            請正確填寫金額
                        </div>
                    </div>
                    <div class="form-label-group col-sm-4">
                        <input type="number" min="1" max="1000" step="1" id="term" class="form-control" placeholder="分期月數" oninput="getAmortization()" required>
                        <label for="term">分期期數 (月)</label>
                        <div class="invalid-tooltip">
                            請正確填寫期數 1 ~ 1000
                        </div>
                    </div>
                    <div class="form-label-group col-sm-4">
                        <input type="number" min="0.01" max="99" step="0.01" id="apr" class="form-control" placeholder="貸款利率" oninput="getAmortization()" required>
                        <label for="apr">貸款利率 (%)</label>
                        <div class="invalid-tooltip">
                            請正確填寫利率 0.01 ~ 99
                        </div>
                        <button class="btn btn-sm btn-outline-light text-dark" id="reset" type="reset" onclick="vHideResult()"><i class="fas fa-undo"></i></button>
                    </div>
                </div>
            </form>
        </div>

        <div class="text-center mb-1 py-1" id="result" style="display: none;">
            <h4 id="month_pay"></h4>
        </div>

        <div class="table-wrapper-2">
            <table class="table table-bordered table-hover table-striped table-sm text-center" id="amortizationtable" style="display: none;">
                <thead>
                    <tr>
                        <th>月</th>
                        <th>本金餘額</th>
                        <th>本金</th>
                        <th>利息</th>
                        <th>本利和</th>
                        <th>已償還</th>
                        <th>累計利息</th>
                    </tr>
                </thead>
                <tbody id="tbody">
                </tbody>
            </table>
        </div>

        <p class="mt-3 mb-3 text-muted text-center">&copy; 2018</p>
    </div>
    <script>
        $(document).ready(function(){
            $(":input").inputmask()
        });
    </script>

    <script>
    </script>
</body>
</html>
